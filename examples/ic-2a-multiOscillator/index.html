<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome to Computer Programming for Musicians</title>

</head>
<body>
    <button>This is a button.</button>

    <input id="freqSlider" type="range" min="110" max="880" value="110">


    <script>

        let freq = 110
        const ctx = new AudioContext();

        const osc1 = new OscillatorNode(ctx);
        osc1.type = "triangle";
        osc1.frequency.value = freq;

        const osc2 = new OscillatorNode(ctx);
        osc2.type = "triangle";
        osc2.frequency.value = freq * 1.25;

        const gain = new GainNode(ctx);
        gain.gain.value = 0.5;

        osc1.connect(gain);
        osc2.connect(gain);
        gain.connect(ctx.destination)


        osc1.start();
        osc2.start();

        let freqCtl = document.querySelector("#freqSlider")

        freqCtl.addEventListener("input", ()=>{
            freq = Number(freqCtl.value);
            osc1.frequency.value = freq;
            osc2.frequency.value = freq * 1.25;
        })




        //below is a line of code in the audio doesn't start automatically
        document.querySelector("button").onclick = ctx.resume()
    </script>

</body>
</html>
