<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ex14</title>
</head>
<body>

    <button>Start</button>
    <input id="masterGain" type="range" min="0" max="1" step="0.01" value="0">
    <label id="gainDisplay" for="masterGain">0.0</label>
    <script>
        const ctx = new AudioContext();
        const master = new GainNode(ctx, );
        master.gain.value = 0.0
        master.connect(ctx.destination);

        const osc1 = new OscillatorNode(ctx, { frequency: 110 });
        const osc2 = new OscillatorNode(ctx, { frequency: 330 });
        const osc3 = new OscillatorNode(ctx, { frequency: 513.33333 });

        osc1.connect(master);
        osc2.connect(master);
        osc3.connect(master);

        let gainCtl = document.querySelector("#masterGain")
        gainCtl.addEventListener("input", ()=>{
            master.gain.value = Number(gainCtl.value);
            document.querySelector("#gainDisplay").textContent = gainCtl.value;
        })


        document.querySelector("button").addEventListener("click",  () => {
            ctx.resume();
            osc1.start();
            osc2.start();
            osc3.start();
        });

    </script>


</body>
</html>